<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Combined Emission Models" href="combined_models.html" /><link rel="prev" title="Modifying a model" href="modify_models.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>Creating your own EmissionModel - Synthesizer</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Synthesizer</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/synthesizer_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/downloading_grids.html">Downloading Grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/overview.html">Overview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../grids/grids.html">Grids</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Grids</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../grids/grids_example.html"><code class="docutils literal notranslate"><span class="pre">Grid</span></code> example</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../galaxy/galaxy.html">Galaxy</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Galaxy</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../galaxy/particle_parametric.html">Particle vs Parametric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../galaxy/line_of_sight.html">Line of Sight Calculations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../components/components.html">Components</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Components</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../components/stars.html">Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/gas.html">Gas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/blackholes.html">Blackholes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../sed/sed.html">Sed</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Sed</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../sed/sed_example.html">The Sed object</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="emission_models.html">Emission models</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Emission models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model_usage.html">Emission model basics</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="premade_models/premade_models.html">Premade Models</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Premade Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="premade_models/stellar_models.html">Stellar Emission Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="premade_models/agn_models.html">AGN Emission Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="premade_models/common_models.html">Common Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dust_emission.html">Dust emission</a></li>
<li class="toctree-l2"><a class="reference internal" href="modify_models.html">Modifying a model</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Creating your own EmissionModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Saving-or-not-saving-the-emission">Saving or not saving the emission</a></li>
<li class="toctree-l2"><a class="reference internal" href="combined_models.html">Combined Emission Models</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../attenuation/attenuation.html">Attenuation</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Attenuation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../attenuation/dust_attenuation.html">Dust Attenuation Curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../attenuation/igm.html">Intergalactic Medium Absortion</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../spectra/spectra.html">Generating spectra</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Generating spectra</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../spectra/stars.html">Stellar Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spectra/blackholes.html">Black Hole Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spectra/galaxy.html">Galaxy Spectra</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lines/lines.html">Emission Lines</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Emission Lines</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../lines/grid_lines.html">Lines from <code class="docutils literal notranslate"><span class="pre">Grid</span></code> objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lines/galaxy_lines.html">Lines from <code class="docutils literal notranslate"><span class="pre">Galaxy</span></code> objects</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../filters/filters.html">Filters</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Filters</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../filters/filters_example.html">Filters example</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../photometry/photometry.html">Photometry</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Photometry</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../photometry/photometry_example.html">Generating Photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../photometry/galaxy_phot.html">Generating photometry from a <code class="docutils literal notranslate"><span class="pre">Galaxy</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../imaging/imaging.html">Imaging</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../imaging/particle_imaging.html">Images From Galaxy Particle distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imaging/parametric_imaging.html">Images From Parametric Galaxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imaging/particle_data_cube.html">Spectral Data Cubes from Galaxy Particle distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imaging/parametric_data_cube.html">Spectral Data Cubes from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imaging/property_maps.html">Property maps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../parallelism/openmp.html">Parallelism</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../advanced/advanced.html">Advanced</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Advanced</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced/config_options.html">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/units.html">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/abundances.html">Abundances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/creating_grids.html">Creating Grids</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebook_examples/cookbook.html">Cookbook</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Cookbook</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebook_examples/generate_active_galaxy.html">Generate active galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook_examples/generate_composite_galaxy.html">Generate composite galaxy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../auto_examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/cosmo/index.html">Cosmological simulation examples</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Cosmological simulation examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_test_los_spectra.html">Line of sight example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_test_age_lookup.html">Age lookup test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_test_aperture_mask.html">Aperture Mask Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/luminosity_function_integration_test.html">Camels luminosity function example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_sc-sam.html">SC-SAM example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_parametric_young_stars.html">Parametric Young Stars Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/cosmo/plot_cosmo_example.html">Camels example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/general/index.html">General examples</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of General examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/general/plot_igm.html">IGM transmission example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/general/plot_dustcurves.html">Dust curves example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/general/plot_filters.html">Filters example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/general/plot_quiescent_colours.html">Plot quiescent UVJ diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/general/plot_photometry.html">Photometry example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/grids/index.html">Grid examples</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Grid examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/grids/plot_log10Q.html">Plot ionising luminosity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/grids/plot_line_cont.html">Plot the line continuum for a given grid point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/grids/plot_spectra.html">Plot spectra example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/grids/plot_lines.html">Get lines example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/grids/plot_spectra_by_age.html">Plot spectra by age</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/imaging/index.html">Imaging examples</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Imaging examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/imaging/plot_aperture_sum.html">Get sum of image inside an aperture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/imaging/plot_image_addition.html">Image addition example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/parametric/index.html">Parametric galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Parametric galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_compare_sfhs.html">Compare different parametric star formation history models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_delta_lambda.html">Plot delta_lambda for a grid.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_create_image.html">Create image example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_generate_lines.html">Generating Lines from a Parametric Galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_observed_sed.html">Generate parametric observed SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_scale_by_luminosity.html">An example showing how to scale a galaxy’s mass by luminosity/flux.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_sed.html">Generate parametric galaxy SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/parametric/plot_equivalent_width.html">Plot equivalent width for UV indices</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../auto_examples/particle/index.html">Particle galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Particle galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_create_sampled_sed.html">Create sampled SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_compare_parametric_particle.html">Compare parametric and particle SEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_compare_grid_assignment.html">Compare SPS grid assignment methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_single_star_test.html">Compare Single star particle to instantaneous SFZH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_los_spectra.html">Plot line of sight diagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_get_los_attenutation.html">Plot line of sight optical depth calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auto_examples/particle/plot_rotated_galaxy.html">Rotating particle distributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../API.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../_autosummary/synthesizer.html">synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of synthesizer</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.abundances.html">synthesizer.abundances</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of synthesizer.abundances</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.abundances.abundance_patterns.html">synthesizer.abundances.abundance_patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.abundances.abundance_scalings.html">synthesizer.abundances.abundance_scalings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.abundances.depletion_models.html">synthesizer.abundances.depletion_models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.abundances.elements.html">synthesizer.abundances.elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.abundances.reference_abundance_patterns.html">synthesizer.abundances.reference_abundance_patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.ascii_table.html">synthesizer.ascii_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.base_galaxy.html">synthesizer.base_galaxy</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.components.html">synthesizer.components</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of synthesizer.components</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.components.blackhole.html">synthesizer.components.blackhole</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.components.component.html">synthesizer.components.component</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.components.stellar.html">synthesizer.components.stellar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.conversions.html">synthesizer.conversions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.download_data.html">synthesizer.download_data</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.html">synthesizer.emission_models</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of synthesizer.emission_models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.agn.html">synthesizer.emission_models.agn</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of synthesizer.emission_models.agn</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.agn.models.html">synthesizer.emission_models.agn.models</a></li>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.agn.unified_agn.html">synthesizer.emission_models.agn.unified_agn</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.attenuation.html">synthesizer.emission_models.attenuation</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of synthesizer.emission_models.attenuation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.attenuation.dust.html">synthesizer.emission_models.attenuation.dust</a></li>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.attenuation.igm.html">synthesizer.emission_models.attenuation.igm</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.base_model.html">synthesizer.emission_models.base_model</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.dust.html">synthesizer.emission_models.dust</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of synthesizer.emission_models.dust</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.dust.emission.html">synthesizer.emission_models.dust.emission</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.models.html">synthesizer.emission_models.models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.operations.html">synthesizer.emission_models.operations</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.stellar.html">synthesizer.emission_models.stellar</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of synthesizer.emission_models.stellar</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.stellar.models.html">synthesizer.emission_models.stellar.models</a></li>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.emission_models.stellar.pacman_model.html">synthesizer.emission_models.stellar.pacman_model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.html">synthesizer.exceptions</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of synthesizer.exceptions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.DownloadError.html">synthesizer.exceptions.DownloadError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.GridError.html">synthesizer.exceptions.GridError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.InconsistentAddition.html">synthesizer.exceptions.InconsistentAddition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.InconsistentArguments.html">synthesizer.exceptions.InconsistentArguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.InconsistentCoordinates.html">synthesizer.exceptions.InconsistentCoordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.InconsistentParameter.html">synthesizer.exceptions.InconsistentParameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.InconsistentWavelengths.html">synthesizer.exceptions.InconsistentWavelengths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.IncorrectUnits.html">synthesizer.exceptions.IncorrectUnits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.MissingArgument.html">synthesizer.exceptions.MissingArgument</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.MissingAttribute.html">synthesizer.exceptions.MissingAttribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.MissingImage.html">synthesizer.exceptions.MissingImage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.MissingSpectraType.html">synthesizer.exceptions.MissingSpectraType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.MissingUnits.html">synthesizer.exceptions.MissingUnits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.SVOFilterNotFound.html">synthesizer.exceptions.SVOFilterNotFound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.SVOInaccessible.html">synthesizer.exceptions.SVOInaccessible</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.UnimplementedFunctionality.html">synthesizer.exceptions.UnimplementedFunctionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.UnknownImageType.html">synthesizer.exceptions.UnknownImageType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.UnmetDependency.html">synthesizer.exceptions.UnmetDependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.UnrecognisedOption.html">synthesizer.exceptions.UnrecognisedOption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.exceptions.WavelengthOutOfRange.html">synthesizer.exceptions.WavelengthOutOfRange</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.filters.html">synthesizer.filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.galaxy.html">synthesizer.galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.grid.html">synthesizer.grid</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.imaging.html">synthesizer.imaging</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of synthesizer.imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../_autosummary/synthesizer.imaging.extensions.html">synthesizer.imaging.extensions</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of synthesizer.imaging.extensions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.imaging.extensions.circular_aperture.html">synthesizer.imaging.extensions.circular_aperture</a></li>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.imaging.extensions.image.html">synthesizer.imaging.extensions.image</a></li>
<li class="toctree-l5"><a class="reference internal" href="../_autosummary/synthesizer.imaging.extensions.spectral_cube.html">synthesizer.imaging.extensions.spectral_cube</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.imaging.image.html">synthesizer.imaging.image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.imaging.image_collection.html">synthesizer.imaging.image_collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.imaging.spectral_cube.html">synthesizer.imaging.spectral_cube</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.kernel_functions.html">synthesizer.kernel_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.line.html">synthesizer.line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.line_ratios.html">synthesizer.line_ratios</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.load_data.html">synthesizer.load_data</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of synthesizer.load_data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.load_data.load_camels.html">synthesizer.load_data.load_camels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.load_data.load_flares.html">synthesizer.load_data.load_flares</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.load_data.load_scsam.html">synthesizer.load_data.load_scsam</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.load_data.load_simba.html">synthesizer.load_data.load_simba</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.load_data.utils.html">synthesizer.load_data.utils</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.parametric.html">synthesizer.parametric</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of synthesizer.parametric</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.blackholes.html">synthesizer.parametric.blackholes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.galaxy.html">synthesizer.parametric.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.metal_dist.html">synthesizer.parametric.metal_dist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.morphology.html">synthesizer.parametric.morphology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.sf_hist.html">synthesizer.parametric.sf_hist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.parametric.stars.html">synthesizer.parametric.stars</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.particle.html">synthesizer.particle</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of synthesizer.particle</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.particle.blackholes.html">synthesizer.particle.blackholes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.particle.galaxy.html">synthesizer.particle.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.particle.gas.html">synthesizer.particle.gas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.particle.particles.html">synthesizer.particle.particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.particle.stars.html">synthesizer.particle.stars</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.photoionisation.html">synthesizer.photoionisation</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of synthesizer.photoionisation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.photoionisation.cloudy17.html">synthesizer.photoionisation.cloudy17</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.photoionisation.cloudy23.html">synthesizer.photoionisation.cloudy23</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.photoionisation.photoionisation.html">synthesizer.photoionisation.photoionisation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.photometry.html">synthesizer.photometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.sed.html">synthesizer.sed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.units.html">synthesizer.units</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../_autosummary/synthesizer.utils.html">synthesizer.utils</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of synthesizer.utils</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.art.html">synthesizer.utils.art</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.ascii_table.html">synthesizer.utils.ascii_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.geometry.html">synthesizer.utils.geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.integrate.html">synthesizer.utils.integrate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.plt.html">synthesizer.utils.plt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.stats.html">synthesizer.utils.stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/synthesizer.utils.util_funcs.html">synthesizer.utils.util_funcs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/synthesizer.warnings.html">synthesizer.warnings</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="Creating-your-own-EmissionModel">
<h1>Creating your own EmissionModel<a class="headerlink" href="#Creating-your-own-EmissionModel" title="Link to this heading">¶</a></h1>
<p>To create your own <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code> all you need to do is define each indiviudal emission type and relate them. This operation will define a tree-like structure, where each model links to at least one other model.</p>
<p>In the sections below we will detail how to define each different type of emission operation, but there are a few arguments needed by an <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code> regardless of the operation:</p>
<ul class="simple">
<li><p>A <strong>label</strong> which identifies the model. This is given by passing a string to the <code class="docutils literal notranslate"><span class="pre">label</span></code> argument. These must be unique within a single emission model “tree”.</p></li>
<li><p>An <strong>emitter</strong> to act on. This is given by passing a string to the <code class="docutils literal notranslate"><span class="pre">emitter</span></code> argument. Currently the possible emitters are: <code class="docutils literal notranslate"><span class="pre">&quot;stellar&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;blackhole&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;galaxy&quot;</span></code>.</p></li>
</ul>
<p>Before demonstrating anythign we first need to import the classes we’ll need and set up a <code class="docutils literal notranslate"><span class="pre">Grid</span></code> (described <a class="reference internal" href="../grids/grids.html"><span class="doc">here</span></a>).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unyt</span> <span class="kn">import</span> <span class="n">cm</span><span class="p">,</span> <span class="n">dimensionless</span><span class="p">,</span> <span class="n">kelvin</span><span class="p">,</span> <span class="n">km</span><span class="p">,</span> <span class="n">s</span>

<span class="kn">from</span> <span class="nn">synthesizer.emission_models</span> <span class="kn">import</span> <span class="n">EmissionModel</span>
<span class="kn">from</span> <span class="nn">synthesizer.emission_models.attenuation</span> <span class="kn">import</span> <span class="n">PowerLaw</span>
<span class="kn">from</span> <span class="nn">synthesizer.emission_models.dust.emission</span> <span class="kn">import</span> <span class="n">Blackbody</span>
<span class="kn">from</span> <span class="nn">synthesizer.grid</span> <span class="kn">import</span> <span class="n">Grid</span>

<span class="c1"># Get the grid which we&#39;ll need for extraction</span>
<span class="n">grid_dir</span> <span class="o">=</span> <span class="s2">&quot;../../../tests/test_grid&quot;</span>
<span class="n">grid_name</span> <span class="o">=</span> <span class="s2">&quot;test_grid&quot;</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">grid_name</span><span class="p">,</span> <span class="n">grid_dir</span><span class="o">=</span><span class="n">grid_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Emitters">
<h2>Emitters<a class="headerlink" href="#Emitters" title="Link to this heading">¶</a></h2>
<p>The emitter on a model defines:</p>
<ul class="simple">
<li><p>Where any model independant attributes should be extracted from (e.g. ages and metallicites needed for stellar extractions).</p></li>
<li><p>Where the resulting spectra/lines will be stored once generated.</p></li>
<li><p>Where any model attributes set to attribute strings should be extracted from (e.g. optical depths when <code class="docutils literal notranslate"><span class="pre">tau_v=&quot;tau_v&quot;</span></code>).</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">&quot;stellar&quot;</span></code> will cause the model to use a <code class="docutils literal notranslate"><span class="pre">Stars</span></code> object, <code class="docutils literal notranslate"><span class="pre">&quot;blackhole&quot;</span></code> will cause the model to use a <code class="docutils literal notranslate"><span class="pre">BlackHole/s</span></code> object, while <code class="docutils literal notranslate"><span class="pre">&quot;galaxy&quot;</span></code> will cause the model to use a <code class="docutils literal notranslate"><span class="pre">Galaxy</span></code> object. This mechanism is all performed behind the scenes, you should never have to interact directly with any of this beyond setting the emitter string on a model.</p>
<p>As well as the base <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code> classes there are 3 specialised model classes: <code class="docutils literal notranslate"><span class="pre">StellarEmissionModel</span></code>, <code class="docutils literal notranslate"><span class="pre">BlackHoleEmissionModel</span></code>, and <code class="docutils literal notranslate"><span class="pre">GalaxyEmissionModel</span></code>. These specialised classes are identical to the base <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code> class but automatically set the <code class="docutils literal notranslate"><span class="pre">emitter</span></code> argument to <code class="docutils literal notranslate"><span class="pre">&quot;stellar&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;blackhole&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;galaxy&quot;</span></code> respectively.</p>
<p>We’ll cover the specifics of different operations below, but this means the following fake models:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">transmitted</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nlr</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nlr&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;nebular&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;blackhole&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;total&quot;</span><span class="p">,</span>
    <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">transmitted</span><span class="p">,</span> <span class="n">nlr</span><span class="p">),</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;galaxy&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>are equivalent to:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">synthesizer.emission_models</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BlackHoleEmissionModel</span><span class="p">,</span>
    <span class="n">GalaxyEmissionModel</span><span class="p">,</span>
    <span class="n">StellarEmissionModel</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">transmitted</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nlr</span> <span class="o">=</span> <span class="n">BlackHoleEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nlr&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;nebular&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">GalaxyEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;total&quot;</span><span class="p">,</span>
    <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">transmitted</span><span class="p">,</span> <span class="n">nlr</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>In the rest of this notebook we’ll use these specialised classes rather than the base <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code>.</p>
</section>
<section id="Defining-an-extraction">
<h2>Defining an extraction<a class="headerlink" href="#Defining-an-extraction" title="Link to this heading">¶</a></h2>
<p>To define an extraction we simply need to pass a <code class="docutils literal notranslate"><span class="pre">Grid</span></code> to extract from and a key to extract (with the option of providing an escape fraction).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">transmitted</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">transmitted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|==== EmissionModel: transmitted ====|
|------------------------------------|
|  TRANSMITTED (stellar)             |
|------------------------------------|
|Extraction model:                   |
|  Grid: test_grid                   |
|  Extract key: transmitted          |
|  Escape fraction: 0.3              |
|  Save emission: True               |
|====================================|
</pre></div></div>
</div>
</section>
<section id="Defining-a-combination">
<h2>Defining a combination<a class="headerlink" href="#Defining-a-combination" title="Link to this heading">¶</a></h2>
<p>To define a combination we simply pass the models we want combined to the <code class="docutils literal notranslate"><span class="pre">combine</span></code> keyword (along with a label).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define models to combine</span>
<span class="n">linecont</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;linecont&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;linecont&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nebular_cont</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nebular_continuum&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;nebular_continuum&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Define the combined model</span>
<span class="n">nebular</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span><span class="s2">&quot;nebular&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">linecont</span><span class="p">,</span> <span class="n">nebular_cont</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nebular</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|================ EmissionModel: nebular ===============|
|-------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                          |
|-------------------------------------------------------|
|Extraction model:                                      |
|  Grid: test_grid                                      |
|  Extract key: nebular_continuum                       |
|  Escape fraction: None                                |
|  Save emission: True                                  |
|  Masks:                                               |
|    - log10ages &lt; 7 dimensionless                      |
|-------------------------------------------------------|
|  LINECONT (stellar)                                   |
|-------------------------------------------------------|
|Extraction model:                                      |
|  Grid: test_grid                                      |
|  Extract key: linecont                                |
|  Escape fraction: 0.7                                 |
|  Save emission: True                                  |
|  Masks:                                               |
|    - log10ages &lt; 7 dimensionless                      |
|-------------------------------------------------------|
|  NEBULAR (stellar)                                    |
|-------------------------------------------------------|
|Combination model:                                     |
|  Combine models: linecont, nebular_continuum          |
|  Save emission: True                                  |
|=======================================================|
</pre></div></div>
</div>
</section>
<section id="Defining-an-attenuation">
<h2>Defining an attenuation<a class="headerlink" href="#Defining-an-attenuation" title="Link to this heading">¶</a></h2>
<p>To define an attenuated emission model we need a dust curve, the model to apply the dust to, and an optical depth (once again along with a label).</p>
<p>Some properties can also have strings passed instead of numbers. When a string is passed the spectra generator method will look for an attribute on an emitter using this string. This is only applicable for certain properties, e.g. <code class="docutils literal notranslate"><span class="pre">tau_v</span></code> and <code class="docutils literal notranslate"><span class="pre">fesc</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">attenuated</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;attenuated&quot;</span><span class="p">,</span>
    <span class="n">dust_curve</span><span class="o">=</span><span class="n">PowerLaw</span><span class="p">(</span><span class="n">slope</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">apply_dust_to</span><span class="o">=</span><span class="n">nebular</span><span class="p">,</span>
    <span class="n">tau_v</span><span class="o">=</span><span class="s2">&quot;tau_v&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">attenuated</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|====================================== EmissionModel: attenuated =======================================|
|--------------------------------------------------------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                                                                           |
|--------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                       |
|  Grid: test_grid                                                                                       |
|  Extract key: nebular_continuum                                                                        |
|  Escape fraction: None                                                                                 |
|  Save emission: True                                                                                   |
|  Masks:                                                                                                |
|    - log10ages &lt; 7 dimensionless                                                                       |
|--------------------------------------------------------------------------------------------------------|
|  LINECONT (stellar)                                                                                    |
|--------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                       |
|  Grid: test_grid                                                                                       |
|  Extract key: linecont                                                                                 |
|  Escape fraction: 0.7                                                                                  |
|  Save emission: True                                                                                   |
|  Masks:                                                                                                |
|    - log10ages &lt; 7 dimensionless                                                                       |
|--------------------------------------------------------------------------------------------------------|
|  NEBULAR (stellar)                                                                                     |
|--------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                      |
|  Combine models: linecont, nebular_continuum                                                           |
|  Save emission: True                                                                                   |
|--------------------------------------------------------------------------------------------------------|
|  ATTENUATED (stellar)                                                                                  |
|--------------------------------------------------------------------------------------------------------|
|Dust attenuation model:                                                                                 |
|  Dust curve: &lt;synthesizer.emission_models.attenuation.dust.PowerLaw object at 0x7fc4e89e4d30&gt;          |
|  Apply dust to: nebular                                                                                |
|  Optical depth (tau_v): [&#39;tau_v&#39;]                                                                      |
|  Save emission: True                                                                                   |
|========================================================================================================|
</pre></div></div>
</div>
<p>The optical depth specifically (<code class="docutils literal notranslate"><span class="pre">tau_v</span></code>) can also take a tuple containing either strings or floats which will be combined into a single attenuation curve when used.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">attenuated</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;attenuated&quot;</span><span class="p">,</span>
    <span class="n">dust_curve</span><span class="o">=</span><span class="n">PowerLaw</span><span class="p">(</span><span class="n">slope</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">apply_dust_to</span><span class="o">=</span><span class="n">nebular</span><span class="p">,</span>
    <span class="n">tau_v</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;tau_v&quot;</span><span class="p">,</span> <span class="mf">0.33</span><span class="p">),</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">attenuated</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|====================================== EmissionModel: attenuated =======================================|
|--------------------------------------------------------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                                                                           |
|--------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                       |
|  Grid: test_grid                                                                                       |
|  Extract key: nebular_continuum                                                                        |
|  Escape fraction: None                                                                                 |
|  Save emission: True                                                                                   |
|  Masks:                                                                                                |
|    - log10ages &lt; 7 dimensionless                                                                       |
|--------------------------------------------------------------------------------------------------------|
|  LINECONT (stellar)                                                                                    |
|--------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                       |
|  Grid: test_grid                                                                                       |
|  Extract key: linecont                                                                                 |
|  Escape fraction: 0.7                                                                                  |
|  Save emission: True                                                                                   |
|  Masks:                                                                                                |
|    - log10ages &lt; 7 dimensionless                                                                       |
|--------------------------------------------------------------------------------------------------------|
|  NEBULAR (stellar)                                                                                     |
|--------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                      |
|  Combine models: linecont, nebular_continuum                                                           |
|  Save emission: True                                                                                   |
|--------------------------------------------------------------------------------------------------------|
|  ATTENUATED (stellar)                                                                                  |
|--------------------------------------------------------------------------------------------------------|
|Dust attenuation model:                                                                                 |
|  Dust curve: &lt;synthesizer.emission_models.attenuation.dust.PowerLaw object at 0x7fc4e89e57b0&gt;          |
|  Apply dust to: nebular                                                                                |
|  Optical depth (tau_v): (&#39;tau_v&#39;, 0.33)                                                                |
|  Save emission: True                                                                                   |
|========================================================================================================|
</pre></div></div>
</div>
</section>
<section id="Defining-a-generation">
<h2>Defining a generation<a class="headerlink" href="#Defining-a-generation" title="Link to this heading">¶</a></h2>
<p>To define a generation model we only need to provide the generator class (i.e. a <code class="docutils literal notranslate"><span class="pre">Blackbody</span></code>).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">synthesizer.emission_models.dust.emission</span> <span class="kn">import</span> <span class="n">Blackbody</span>

<span class="n">bb_emission</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;blackbody_emission&quot;</span><span class="p">,</span>
    <span class="n">generator</span><span class="o">=</span><span class="n">Blackbody</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="n">kelvin</span><span class="p">),</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bb_emission</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|========================================= EmissionModel: blackbody_emission =========================================|
|---------------------------------------------------------------------------------------------------------------------|
|  BLACKBODY_EMISSION (stellar)                                                                                       |
|---------------------------------------------------------------------------------------------------------------------|
|Generation model:                                                                                                    |
|  Emission generation model: &lt;synthesizer.emission_models.dust.emission.Blackbody object at 0x7fc534daa710&gt;          |
|  Save emission: True                                                                                                |
|=====================================================================================================================|
</pre></div></div>
</div>
<p>If we want to scale the generated emission by another emission model we can pass that as the <code class="docutils literal notranslate"><span class="pre">lum_intrinsic_model</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scaled_bb_emission</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;blackbody_emission&quot;</span><span class="p">,</span>
    <span class="n">generator</span><span class="o">=</span><span class="n">Blackbody</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="n">kelvin</span><span class="p">),</span>
    <span class="n">lum_intrinsic_model</span><span class="o">=</span><span class="n">transmitted</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scaled_bb_emission</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|========================================= EmissionModel: blackbody_emission =========================================|
|---------------------------------------------------------------------------------------------------------------------|
|  TRANSMITTED (stellar)                                                                                              |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: transmitted                                                                                           |
|  Escape fraction: 0.3                                                                                               |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  BLACKBODY_EMISSION (stellar)                                                                                       |
|---------------------------------------------------------------------------------------------------------------------|
|Generation model:                                                                                                    |
|  Emission generation model: &lt;synthesizer.emission_models.dust.emission.Blackbody object at 0x7fc534dabbe0&gt;          |
|  Scale by: transmitted                                                                                              |
|  Save emission: True                                                                                                |
|=====================================================================================================================|
</pre></div></div>
</div>
<p>For the special case of energy balance dust emission you can pass both the intrinsic and attenuated models to scale by the emission reprocessed by dust.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dust_emission</span> <span class="o">=</span> <span class="n">GalaxyEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;blackbody_emission&quot;</span><span class="p">,</span>
    <span class="n">generator</span><span class="o">=</span><span class="n">Blackbody</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="n">kelvin</span><span class="p">),</span>
    <span class="n">lum_intrinsic_model</span><span class="o">=</span><span class="n">transmitted</span><span class="p">,</span>
    <span class="n">lum_attenuated_model</span><span class="o">=</span><span class="n">attenuated</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dust_emission</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|========================================= EmissionModel: blackbody_emission =========================================|
|---------------------------------------------------------------------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                                                                                        |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: nebular_continuum                                                                                     |
|  Escape fraction: None                                                                                              |
|  Save emission: True                                                                                                |
|  Masks:                                                                                                             |
|    - log10ages &lt; 7 dimensionless                                                                                    |
|---------------------------------------------------------------------------------------------------------------------|
|  LINECONT (stellar)                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: linecont                                                                                              |
|  Escape fraction: 0.7                                                                                               |
|  Save emission: True                                                                                                |
|  Masks:                                                                                                             |
|    - log10ages &lt; 7 dimensionless                                                                                    |
|---------------------------------------------------------------------------------------------------------------------|
|  TRANSMITTED (stellar)                                                                                              |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: transmitted                                                                                           |
|  Escape fraction: 0.3                                                                                               |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  NEBULAR (stellar)                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: linecont, nebular_continuum                                                                        |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  ATTENUATED (stellar)                                                                                               |
|---------------------------------------------------------------------------------------------------------------------|
|Dust attenuation model:                                                                                              |
|  Dust curve: &lt;synthesizer.emission_models.attenuation.dust.PowerLaw object at 0x7fc4e89e57b0&gt;                       |
|  Apply dust to: nebular                                                                                             |
|  Optical depth (tau_v): (&#39;tau_v&#39;, 0.33)                                                                             |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  BLACKBODY_EMISSION (galaxy)                                                                                        |
|---------------------------------------------------------------------------------------------------------------------|
|Generation model:                                                                                                    |
|  Emission generation model: &lt;synthesizer.emission_models.dust.emission.Blackbody object at 0x7fc534da9b70&gt;          |
|  Dust luminosity: transmitted - attenuated                                                                          |
|  Save emission: True                                                                                                |
|=====================================================================================================================|
</pre></div></div>
</div>
</section>
<section id="Including-a-mask">
<h2>Including a mask<a class="headerlink" href="#Including-a-mask" title="Link to this heading">¶</a></h2>
<p>A mask can be included in any step by passing <code class="docutils literal notranslate"><span class="pre">mask_attr</span></code>, <code class="docutils literal notranslate"><span class="pre">mask_thresh</span></code>, and <code class="docutils literal notranslate"><span class="pre">mask_op</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">masked_transmitted</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;masked_transmitted&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="s2">&quot;fesc&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can also define multiple masks on a single step. To add more masks, use the <code class="docutils literal notranslate"><span class="pre">add_mask</span></code> method, as demonstrated on the <a class="reference internal" href="premade_models/premade_models.html"><span class="doc">premade models</span></a>. These will be combined with a boolean <code class="docutils literal notranslate"><span class="pre">and</span></code> operation at the point of spectra generation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">masked_transmitted</span><span class="o">.</span><span class="n">add_mask</span><span class="p">(</span><span class="s2">&quot;metallicities&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">)</span>
<span class="n">masked_transmitted</span><span class="o">.</span><span class="n">add_mask</span><span class="p">(</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">masked_transmitted</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|======== EmissionModel: masked_transmitted ========|
|---------------------------------------------------|
|  MASKED_TRANSMITTED (stellar)                     |
|---------------------------------------------------|
|Extraction model:                                  |
|  Grid: test_grid                                  |
|  Extract key: transmitted                         |
|  Escape fraction: fesc                            |
|  Save emission: True                              |
|  Masks:                                           |
|    - log10ages &lt; 7 dimensionless                  |
|    - metallicities &lt; 0.01 dimensionless           |
|    - log10ages &lt; 6 dimensionless                  |
|===================================================|
</pre></div></div>
</div>
</section>
<section id="Including-related-models">
<h2>Including related models<a class="headerlink" href="#Including-related-models" title="Link to this heading">¶</a></h2>
<p>In many instances you’ll have a primary emissions spectra that you wish to calculate, plus some extra emission models that get produced along the way, but do not feature in the main “tree”. To include these models, and ensure their spectra is generated by calls to <code class="docutils literal notranslate"><span class="pre">get_spectra</span></code> or <code class="docutils literal notranslate"><span class="pre">get_lines</span></code> methods, you can pass them to the <code class="docutils literal notranslate"><span class="pre">related_models</span></code> argument at instantiation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the combined model</span>
<span class="n">nebular</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nebular&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">linecont</span><span class="p">,</span> <span class="n">nebular_cont</span><span class="p">),</span> <span class="n">related_models</span><span class="o">=</span><span class="p">(</span><span class="n">transmitted</span><span class="p">)</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nebular</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|================ EmissionModel: nebular ===============|
|-------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                          |
|-------------------------------------------------------|
|Extraction model:                                      |
|  Grid: test_grid                                      |
|  Extract key: nebular_continuum                       |
|  Escape fraction: None                                |
|  Save emission: True                                  |
|  Masks:                                               |
|    - log10ages &lt; 7 dimensionless                      |
|-------------------------------------------------------|
|  LINECONT (stellar)                                   |
|-------------------------------------------------------|
|Extraction model:                                      |
|  Grid: test_grid                                      |
|  Extract key: linecont                                |
|  Escape fraction: 0.7                                 |
|  Save emission: True                                  |
|  Masks:                                               |
|    - log10ages &lt; 7 dimensionless                      |
|-------------------------------------------------------|
|  TRANSMITTED (stellar)                                |
|-------------------------------------------------------|
|Extraction model:                                      |
|  Grid: test_grid                                      |
|  Extract key: transmitted                             |
|  Escape fraction: 0.3                                 |
|  Save emission: True                                  |
|-------------------------------------------------------|
|  NEBULAR (stellar)                                    |
|-------------------------------------------------------|
|Combination model:                                     |
|  Combine models: linecont, nebular_continuum          |
|  Save emission: True                                  |
|=======================================================|
</pre></div></div>
</div>
</section>
<section id="Fixing-parameters">
<h2>Fixing parameters<a class="headerlink" href="#Fixing-parameters" title="Link to this heading">¶</a></h2>
<p>When an emission model is used in a <code class="docutils literal notranslate"><span class="pre">get_spectra</span></code> method, any parameters the model does not define will be extracted from the emitter. If you would like to set any of these to fixed values you can pass a dictionary of parameters to a model at instantiation.</p>
<p>For demonstration purposes, below we create an AGN NLR emission model with fixed NLR parameters. This can also be done with a setter after instantiation (see the model modification <a class="reference internal" href="modify_models.html"><span class="doc">docs</span></a>).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the NLR and BLR grids</span>
<span class="n">nlr_grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="s2">&quot;test_grid_agn-nlr&quot;</span><span class="p">,</span> <span class="n">grid_dir</span><span class="o">=</span><span class="s2">&quot;../../../tests/test_grid&quot;</span><span class="p">)</span>

<span class="n">nlr</span> <span class="o">=</span> <span class="n">BlackHoleEmissionModel</span><span class="p">(</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;nlr&quot;</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;nebular&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">nlr_grid</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>  <span class="c1"># covering fraction</span>
    <span class="n">fixed_parameters</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;ionisation_parameter_nlr&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
        <span class="s2">&quot;hydrogen_density_nlr&quot;</span><span class="p">:</span> <span class="mf">1e4</span> <span class="o">/</span> <span class="n">cm</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;covering_fraction_nlr&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="s2">&quot;velocity_dispersion_nlr&quot;</span><span class="p">:</span> <span class="mi">500</span> <span class="o">*</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nlr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|================= EmissionModel: nlr =================|
|------------------------------------------------------|
|  NLR (blackhole)                                     |
|------------------------------------------------------|
|Extraction model:                                     |
|  Grid: test_grid_agn-nlr                             |
|  Extract key: nebular                                |
|  Escape fraction: 0.1                                |
|  Save emission: True                                 |
|  Fixed parameters:                                   |
|    - ionisation_parameter_nlr: 0.01                  |
|    - hydrogen_density_nlr: 10000.0 cm**(-3)          |
|    - covering_fraction_nlr: 0.1                      |
|    - velocity_dispersion_nlr: 500 km/s               |
|======================================================|
</pre></div></div>
</div>
</section>
<section id="Using-post-processing-functions">
<h2>Using post processing functions<a class="headerlink" href="#Using-post-processing-functions" title="Link to this heading">¶</a></h2>
<p>You may want to apply some post processing to your resulting spectra that isn’t offered by synthesizer. In these cases you can pass a list of “post processing functions” to the <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code>. These functions will be called in the order they are passed, after all spectra have been generated.</p>
<p>These post processing functions must take the following arguments:</p>
<ul class="simple">
<li><p>A dictionary of spectra / lines, where the dictionary will be filled by key-value pairs of emission model labels and the spectra / lines they produce (<code class="docutils literal notranslate"><span class="pre">Sed</span></code>/<code class="docutils literal notranslate"><span class="pre">LineCollection</span></code>) <code class="docutils literal notranslate"><span class="pre">{&lt;model.label&gt;:</span> <span class="pre">&lt;spectra</span> <span class="pre">/</span> <span class="pre">lines&gt;}</span></code>.</p></li>
<li><p>A dictionary of galaxy / component objects, where the dictionary will be <code class="docutils literal notranslate"><span class="pre">{&quot;stellar&quot;:</span> <span class="pre">Stars,</span> <span class="pre">&quot;blackhole&quot;:</span> <span class="pre">BlackHoles,</span> <span class="pre">&quot;galaxy&quot;:</span> <span class="pre">Galaxy}</span></code>.</p></li>
<li><p>An <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code>.</p></li>
</ul>
<p>Each post processing function should also return the dictionary of spectra / lines with the modified values.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">get_spectra</span></code> is called, and all spectra have been generated, any post processing functions will be called with these arguments (in the order listed above).</p>
<p>Below we define a <strong>fake</strong> function to perform some arbitrary mass scaling of the spectra.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scale_by_mass</span><span class="p">(</span><span class="n">emission</span><span class="p">,</span> <span class="n">emitters</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Scale the emission by mass.</span>

<span class="sd">    Args:</span>
<span class="sd">        emission (dict): A dictionary of emissions.</span>
<span class="sd">        emitters (dict): A dictionary of emitters.</span>
<span class="sd">        model (EmissionModel): The model defining the emissions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Loop over emissions</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">emission</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="c1"># Get model</span>
        <span class="n">this_model</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="c1"># Get the emitter</span>
        <span class="n">emitter</span> <span class="o">=</span> <span class="n">emitters</span><span class="p">[</span><span class="n">this_model</span><span class="o">.</span><span class="n">emitter</span><span class="p">]</span>

        <span class="c1"># Scale the emission</span>
        <span class="n">value</span> <span class="o">*=</span> <span class="n">emitter</span><span class="o">.</span><span class="n">masses</span>

    <span class="k">return</span> <span class="n">emission</span>


<span class="n">nebular</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nebular&quot;</span><span class="p">,</span>
    <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">linecont</span><span class="p">,</span> <span class="n">nebular_cont</span><span class="p">),</span>
    <span class="n">related_models</span><span class="o">=</span><span class="p">(</span><span class="n">transmitted</span><span class="p">),</span>
    <span class="n">post_processing</span><span class="o">=</span><span class="p">(</span><span class="n">scale_by_mass</span><span class="p">,),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Saving-or-not-saving-the-emission">
<h1>Saving or not saving the emission<a class="headerlink" href="#Saving-or-not-saving-the-emission" title="Link to this heading">¶</a></h1>
<p>By default all emissions produced by a model will be attached to an emitter after generation. If you would like to instead discard a spectra (but still have it generated for making other spectra) you can pass <code class="docutils literal notranslate"><span class="pre">save=False</span></code> to the emission model at instantiation.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">throw_away</span> <span class="o">=</span> <span class="n">StellarEmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;throw_away&quot;</span><span class="p">,</span>
    <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">linecont</span><span class="p">,</span> <span class="n">nebular_cont</span><span class="p">),</span>
    <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Putting-it-all-together">
<h2>Putting it all together<a class="headerlink" href="#Putting-it-all-together" title="Link to this heading">¶</a></h2>
<p>In the example below we demonstrate how to construct a complex model piece by piece. This will construct the <code class="docutils literal notranslate"><span class="pre">TotalEmission</span></code> model with the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2000ApJ...539..718C/abstract">Charlot&amp;Fall+2000</a> like attenuation operation explicitly.</p>
<p>Here we’ll use the base <code class="docutils literal notranslate"><span class="pre">EmissionModel</span></code> class to explictly show the setting of the <code class="docutils literal notranslate"><span class="pre">emitter</span></code> argument. Notice how we associate the dust emission and total emission on the galaxy rather than the stellar component.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the extractions</span>
<span class="n">transmitted</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">escaped</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;escaped&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;transmitted&quot;</span><span class="p">,</span> <span class="n">fesc</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span>
<span class="p">)</span>
<span class="n">linecont</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;linecont&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;linecont&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
    <span class="n">fesc</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
    <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">nebular_cont</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nebular_continuum&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="s2">&quot;nebular_continuum&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
    <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Combine the extractions</span>
<span class="n">nebular</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;nebular&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">linecont</span><span class="p">,</span> <span class="n">nebular_cont</span><span class="p">),</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span>
<span class="p">)</span>
<span class="n">reprocessed</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;reprocessed&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">nebular</span><span class="p">,</span> <span class="n">transmitted</span><span class="p">),</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span>
<span class="p">)</span>

<span class="c1"># Apply the young and old dust attenuation</span>
<span class="n">young_attenuated</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;young_attenuated&quot;</span><span class="p">,</span>
    <span class="n">dust_curve</span><span class="o">=</span><span class="n">PowerLaw</span><span class="p">,</span>
    <span class="n">apply_dust_to</span><span class="o">=</span><span class="n">reprocessed</span><span class="p">,</span>
    <span class="n">tau_v</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;tau_v&quot;</span><span class="p">,</span> <span class="mf">0.67</span><span class="p">),</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
    <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">old_attenuated</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;old_attenuated&quot;</span><span class="p">,</span>
    <span class="n">dust_curve</span><span class="o">=</span><span class="n">PowerLaw</span><span class="p">,</span>
    <span class="n">apply_dust_to</span><span class="o">=</span><span class="n">reprocessed</span><span class="p">,</span>
    <span class="n">tau_v</span><span class="o">=</span><span class="s2">&quot;tau_v&quot;</span><span class="p">,</span>
    <span class="n">mask_attr</span><span class="o">=</span><span class="s2">&quot;log10ages&quot;</span><span class="p">,</span>
    <span class="n">mask_thresh</span><span class="o">=</span><span class="mi">7</span> <span class="o">*</span> <span class="n">dimensionless</span><span class="p">,</span>
    <span class="n">mask_op</span><span class="o">=</span><span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span><span class="p">,</span>
    <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># And combine them into a single attenuated spectra</span>
<span class="n">attenuated</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;attenuated&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">young_attenuated</span><span class="p">,</span> <span class="n">old_attenuated</span><span class="p">),</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span>
<span class="p">)</span>
<span class="n">emergent</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;emergent&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">attenuated</span><span class="p">,</span> <span class="n">escaped</span><span class="p">),</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;stellar&quot;</span>
<span class="p">)</span>

<span class="c1"># Create a dust emission model</span>
<span class="n">dust_emission</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;dust_emission&quot;</span><span class="p">,</span>
    <span class="n">generator</span><span class="o">=</span><span class="n">Blackbody</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">100</span> <span class="o">*</span> <span class="n">kelvin</span><span class="p">),</span>
    <span class="n">lum_intrinsic_model</span><span class="o">=</span><span class="n">reprocessed</span><span class="p">,</span>
    <span class="n">lum_attenuated_model</span><span class="o">=</span><span class="n">emergent</span><span class="p">[</span><span class="s2">&quot;attenuated&quot;</span><span class="p">],</span>
    <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;galaxy&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># And bring everything together into the total emission</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">EmissionModel</span><span class="p">(</span>
    <span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="p">(</span><span class="n">emergent</span><span class="p">,</span> <span class="n">dust_emission</span><span class="p">),</span> <span class="n">emitter</span><span class="o">=</span><span class="s2">&quot;galaxy&quot;</span>
<span class="p">)</span>

<span class="n">total</span><span class="o">.</span><span class="n">plot_emission_tree</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/emission_models_custom_models_34_0.png" src="../_images/emission_models_custom_models_34_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
|================================================ EmissionModel: total ===============================================|
|---------------------------------------------------------------------------------------------------------------------|
|  TRANSMITTED (stellar)                                                                                              |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: transmitted                                                                                           |
|  Escape fraction: 0.3                                                                                               |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  LINECONT (stellar)                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: linecont                                                                                              |
|  Escape fraction: 0.7                                                                                               |
|  Save emission: False                                                                                               |
|  Masks:                                                                                                             |
|    - log10ages &lt; 7 dimensionless                                                                                    |
|---------------------------------------------------------------------------------------------------------------------|
|  NEBULAR_CONTINUUM (stellar)                                                                                        |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: nebular_continuum                                                                                     |
|  Escape fraction: None                                                                                              |
|  Save emission: False                                                                                               |
|  Masks:                                                                                                             |
|    - log10ages &lt; 7 dimensionless                                                                                    |
|---------------------------------------------------------------------------------------------------------------------|
|  ESCAPED (stellar)                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------|
|Extraction model:                                                                                                    |
|  Grid: test_grid                                                                                                    |
|  Extract key: transmitted                                                                                           |
|  Escape fraction: 0.7                                                                                               |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  NEBULAR (stellar)                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: linecont, nebular_continuum                                                                        |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  REPROCESSED (stellar)                                                                                              |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: nebular, transmitted                                                                               |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  YOUNG_ATTENUATED (stellar)                                                                                         |
|---------------------------------------------------------------------------------------------------------------------|
|Dust attenuation model:                                                                                              |
|  Dust curve: &lt;class &#39;synthesizer.emission_models.attenuation.dust.PowerLaw&#39;&gt;                                        |
|  Apply dust to: reprocessed                                                                                         |
|  Optical depth (tau_v): (&#39;tau_v&#39;, 0.67)                                                                             |
|  Save emission: False                                                                                               |
|  Masks:                                                                                                             |
|    - log10ages &lt; 7 dimensionless                                                                                    |
|---------------------------------------------------------------------------------------------------------------------|
|  OLD_ATTENUATED (stellar)                                                                                           |
|---------------------------------------------------------------------------------------------------------------------|
|Dust attenuation model:                                                                                              |
|  Dust curve: &lt;class &#39;synthesizer.emission_models.attenuation.dust.PowerLaw&#39;&gt;                                        |
|  Apply dust to: reprocessed                                                                                         |
|  Optical depth (tau_v): [&#39;tau_v&#39;]                                                                                   |
|  Save emission: False                                                                                               |
|  Masks:                                                                                                             |
|    - log10ages &gt;= 7 dimensionless                                                                                   |
|---------------------------------------------------------------------------------------------------------------------|
|  ATTENUATED (stellar)                                                                                               |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: young_attenuated, old_attenuated                                                                   |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  DUST_EMISSION (galaxy)                                                                                             |
|---------------------------------------------------------------------------------------------------------------------|
|Generation model:                                                                                                    |
|  Emission generation model: &lt;synthesizer.emission_models.dust.emission.Blackbody object at 0x7fc4e59e8310&gt;          |
|  Dust luminosity: reprocessed - attenuated                                                                          |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  EMERGENT (stellar)                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: attenuated, escaped                                                                                |
|  Save emission: True                                                                                                |
|---------------------------------------------------------------------------------------------------------------------|
|  TOTAL (galaxy)                                                                                                     |
|---------------------------------------------------------------------------------------------------------------------|
|Combination model:                                                                                                   |
|  Combine models: emergent, dust_emission                                                                            |
|  Save emission: True                                                                                                |
|=====================================================================================================================|
</pre></div></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="combined_models.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Combined Emission Models</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="modify_models.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Modifying a model</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Chris Lovell, Will Roper, Aswin Vijayan, Stephen Wilkins
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Creating your own EmissionModel</a><ul>
<li><a class="reference internal" href="#Emitters">Emitters</a></li>
<li><a class="reference internal" href="#Defining-an-extraction">Defining an extraction</a></li>
<li><a class="reference internal" href="#Defining-a-combination">Defining a combination</a></li>
<li><a class="reference internal" href="#Defining-an-attenuation">Defining an attenuation</a></li>
<li><a class="reference internal" href="#Defining-a-generation">Defining a generation</a></li>
<li><a class="reference internal" href="#Including-a-mask">Including a mask</a></li>
<li><a class="reference internal" href="#Including-related-models">Including related models</a></li>
<li><a class="reference internal" href="#Fixing-parameters">Fixing parameters</a></li>
<li><a class="reference internal" href="#Using-post-processing-functions">Using post processing functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Saving-or-not-saving-the-emission">Saving or not saving the emission</a><ul>
<li><a class="reference internal" href="#Putting-it-all-together">Putting it all together</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=4aa187ae"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>