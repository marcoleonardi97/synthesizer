<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Black holes" href="blackholes/blackholes.html" /><link rel="prev" title="Emission lines" href="lines.html" />

    <!-- Generated with Sphinx 7.1.1 and Furo 2024.01.29 -->
        <title>Working with Filters - synthesizer 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">synthesizer 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/synth.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="grids/grids.html">Grids</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Grids</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="grids/grids_example.html">Grids</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="abundances.html">Abundances</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="galaxies/galaxies.html">Galaxy Objects</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Galaxy Objects</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="galaxies/galaxy_obj.html">Working with Galaxy objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spectra.html">Spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="sed.html">The Sed object</a></li>
<li class="toctree-l1"><a class="reference internal" href="lines.html">Emission lines</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Working with Filters</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="blackholes/blackholes.html">Black holes</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Black holes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="blackholes/emission_models.html">Blackhole emission models</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackholes/particle_blackholes.html">Blackholes</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackholes/parametric_blackholes.html">Parametric Blackholes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="parametric/parametric.html">Parametric models</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Parametric models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="parametric/make_stars.html">Making a Parametric Stellar Population</a></li>
<li class="toctree-l2"><a class="reference internal" href="parametric/generate_sed.html">Generating Rest Frame SEDs from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="parametric/generate_lines.html">Generating Lines from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="parametric/generate_composite_galaxy.html">Generate composite galaxy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="cosmo/cosmo.html">Cosmological models</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Cosmological models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cosmo/cosmo_example.html">Camels example</a></li>
<li class="toctree-l2"><a class="reference internal" href="cosmo/survey_example.html">CAMELS survey example</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="imaging/imaging.html">Imaging</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="imaging/parametric_data_cube.html">Creating Spectral Data Cubes from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="imaging/particle_data_cube.html">Creating Spectral Data Cubes from Galaxy Particle distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="imaging/parametric_imaging.html">Creating Images From Parametric Galaxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="imaging/particle_imaging.html">Creating Images From Galaxy Particle distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="imaging/property_maps.html">Making maps</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="auto_examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/cosmo/index.html">Cosmological simulation examples</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Cosmological simulation examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/cosmo/test_los_spectra.html">Line of sight example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/cosmo/plot_sc-sam.html">SC-SAM example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/general/index.html">General examples</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of General examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/general/plot_igm.html">IGM transmission example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/general/plot_dustcurves.html">Dust curves example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/general/plot_filters.html">Filters example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/general/plot_quiescent_colours.html">Plot quiescent UVJ diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/general/plot_photometry.html">Photometry example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/grids/index.html">Grid examples</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Grid examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/grids/plot_log10Q.html">Plot ionising luminosity</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/grids/plot_spectra.html">Plot spectra example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/grids/plot_lines.html">Get lines example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/grids/plot_spectra_by_age.html">Plot spectra by age</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/imaging/index.html">Imaging examples</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Imaging examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/imaging/image_addition.html">Image addition example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/parametric/index.html">Parametric galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Parametric galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_delta_lambda.html">Plot delta_lambda for a grid.</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/generate_lines.html">Generate lines from parametric galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_create_image.html">Create image example</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_observed_sed.html">Generate parametric observed SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_sed.html">Generate parametric galaxy SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_scale_by_luminosity.html">An example showing how to scale a galaxy’s mass by luminosity/flux.</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/parametric/plot_equivalent_width.html">Plot equivalent width for UV indices</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="auto_examples/particle/index.html">Particle galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Particle galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_create_sampled_sed.html">Create sampled SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_compare_parametric_particle.html">Compare parametric and particle SEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_compare_grid_assignment.html">Compare SPS grid assignment methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_single_star_test.html">Compare Single star particle to instantaneous SFZH</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_los_spectra.html">Plot line of sight diagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/particle/plot_get_los_attenutation.html">Plot line of sight diagnostics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="API.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="_autosummary/synthesizer.html">synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of synthesizer</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.abundances.html">synthesizer.abundances</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of synthesizer.abundances</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.abundances.abundance_patterns.html">synthesizer.abundances.abundance_patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.abundances.abundance_scalings.html">synthesizer.abundances.abundance_scalings</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.abundances.depletion_models.html">synthesizer.abundances.depletion_models</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.abundances.solar_abundance_patterns.html">synthesizer.abundances.solar_abundance_patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.art.html">synthesizer.art</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.base_galaxy.html">synthesizer.base_galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.blackhole_emission_models.html">synthesizer.blackhole_emission_models</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.components.html">synthesizer.components</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of synthesizer.components</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.components.blackhole.html">synthesizer.components.blackhole</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.components.stellar.html">synthesizer.components.stellar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.conversions.html">synthesizer.conversions</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.dust.html">synthesizer.dust</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of synthesizer.dust</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.dust.attenuation.html">synthesizer.dust.attenuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.dust.emission.html">synthesizer.dust.emission</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.exceptions.html">synthesizer.exceptions</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of synthesizer.exceptions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.GridError.html">synthesizer.exceptions.GridError</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.InconsistentAddition.html">synthesizer.exceptions.InconsistentAddition</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.InconsistentArguments.html">synthesizer.exceptions.InconsistentArguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.InconsistentCoordinates.html">synthesizer.exceptions.InconsistentCoordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.InconsistentParameter.html">synthesizer.exceptions.InconsistentParameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.InconsistentWavelengths.html">synthesizer.exceptions.InconsistentWavelengths</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.IncorrectUnits.html">synthesizer.exceptions.IncorrectUnits</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.MissingArgument.html">synthesizer.exceptions.MissingArgument</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.MissingAttribute.html">synthesizer.exceptions.MissingAttribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.MissingImage.html">synthesizer.exceptions.MissingImage</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.MissingSpectraType.html">synthesizer.exceptions.MissingSpectraType</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.MissingUnits.html">synthesizer.exceptions.MissingUnits</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.SVOFilterNotFound.html">synthesizer.exceptions.SVOFilterNotFound</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.SVOInaccessible.html">synthesizer.exceptions.SVOInaccessible</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.UnimplementedFunctionality.html">synthesizer.exceptions.UnimplementedFunctionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.UnknownImageType.html">synthesizer.exceptions.UnknownImageType</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.UnrecognisedOption.html">synthesizer.exceptions.UnrecognisedOption</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.exceptions.WavelengthOutOfRange.html">synthesizer.exceptions.WavelengthOutOfRange</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.filters.html">synthesizer.filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.galaxy.html">synthesizer.galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.grid.html">synthesizer.grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.igm.html">synthesizer.igm</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.imaging.html">synthesizer.imaging</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of synthesizer.imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/synthesizer.imaging.extensions.html">synthesizer.imaging.extensions</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of synthesizer.imaging.extensions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/synthesizer.imaging.extensions.image.html">synthesizer.imaging.extensions.image</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/synthesizer.imaging.extensions.spectral_cube.html">synthesizer.imaging.extensions.spectral_cube</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.imaging.image.html">synthesizer.imaging.image</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.imaging.image_collection.html">synthesizer.imaging.image_collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.imaging.spectral_cube.html">synthesizer.imaging.spectral_cube</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.kernel_functions.html">synthesizer.kernel_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.line.html">synthesizer.line</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.load_data.html">synthesizer.load_data</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of synthesizer.load_data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.load_data.load_camels.html">synthesizer.load_data.load_camels</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.load_data.load_flares.html">synthesizer.load_data.load_flares</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.load_data.load_scsam.html">synthesizer.load_data.load_scsam</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.load_data.load_simba.html">synthesizer.load_data.load_simba</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.load_data.utils.html">synthesizer.load_data.utils</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.parametric.html">synthesizer.parametric</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of synthesizer.parametric</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.blackholes.html">synthesizer.parametric.blackholes</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.galaxy.html">synthesizer.parametric.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.metal_dist.html">synthesizer.parametric.metal_dist</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.morphology.html">synthesizer.parametric.morphology</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.sf_hist.html">synthesizer.parametric.sf_hist</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.parametric.stars.html">synthesizer.parametric.stars</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.particle.html">synthesizer.particle</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of synthesizer.particle</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.particle.blackholes.html">synthesizer.particle.blackholes</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.particle.galaxy.html">synthesizer.particle.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.particle.gas.html">synthesizer.particle.gas</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.particle.particles.html">synthesizer.particle.particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.particle.stars.html">synthesizer.particle.stars</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/synthesizer.photoionisation.html">synthesizer.photoionisation</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of synthesizer.photoionisation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.photoionisation.cloudy17.html">synthesizer.photoionisation.cloudy17</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.photoionisation.cloudy23.html">synthesizer.photoionisation.cloudy23</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/synthesizer.photoionisation.photoionisation.html">synthesizer.photoionisation.photoionisation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.photometry.html">synthesizer.photometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.plt.html">synthesizer.plt</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.sed.html">synthesizer.sed</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.stats.html">synthesizer.stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.survey.html">synthesizer.survey</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.units.html">synthesizer.units</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/synthesizer.utils.html">synthesizer.utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="Working-with-Filters">
<h1>Working with Filters<a class="headerlink" href="#Working-with-Filters" title="Permalink to this heading">#</a></h1>
<p>In synthesizer we encapsulate all filter based functionality in two objects:</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">Filter</span></code>: Individual filters with methods and attributes to work with a filters wavelength coverage and transmission.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>: A collection of <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s that behaves like a list with extra attributes and methods to efficiently work with multiple <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s.</p></li>
</ul>
<p>We provide a number of different ways to define a <code class="docutils literal notranslate"><span class="pre">Filter</span></code> or set of <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s:</p>
<ul class="simple">
<li><p>Generic: A generic filter simply requires a user defined wavelength array and transmission curve to initialise. As such a user can define any arbitrary filter they like using this functionality.</p></li>
<li><p>Top Hat: A top hat filter’s transmission is 1 in a particular range and 0 everywhere else. These are either defined by a minimum and maximum wavelength of transmission or by the effective wavelength of the transmission and its FWHM.</p></li>
<li><p>SVO: We also provide an interface to the SVO filter service (<a class="reference external" href="http://svo2.cab.inta-csic.es/theory/fps/">http://svo2.cab.inta-csic.es/theory/fps/</a>). The user need only provide the filter code in “Observatory/Instrument.code” format (as shown on SVO) to extract the relevant information from this service and create a <code class="docutils literal notranslate"><span class="pre">Filter</span></code> object.</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">synthesizer.filters</span> <span class="kn">import</span> <span class="n">Filter</span><span class="p">,</span> <span class="n">FilterCollection</span>
<span class="kn">from</span> <span class="nn">synthesizer.exceptions</span> <span class="kn">import</span> <span class="n">WavelengthOutOfRange</span><span class="p">,</span> <span class="n">InconsistentWavelengths</span>
</pre></div>
</div>
</div>
<section id="Defining-a-wavelength-array">
<h2>Defining a wavelength array<a class="headerlink" href="#Defining-a-wavelength-array" title="Permalink to this heading">#</a></h2>
<p>Here we define some wavelengths (in Angstrom) over which we want to define our filters. We can pass this wavelength array to the <code class="docutils literal notranslate"><span class="pre">Filter</span></code> at initialisation and the <code class="docutils literal notranslate"><span class="pre">Filter</span></code>’s tranmission curve will be defined on the passed wavelength array. In practice we would normally use the wavelength array on the <code class="docutils literal notranslate"><span class="pre">Grid</span></code> object to avoid confusion between wavelength arrays on different objects but here we will ignore this.</p>
<p>Additionally, it is not required, but it is recommended to initialise a <code class="docutils literal notranslate"><span class="pre">Filter</span></code>/<code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> with a rest frame wavelength grid (i.e. the <code class="docutils literal notranslate"><span class="pre">Grid</span></code> wavelength array). Although nothing will break if you use an observer frame wavelength grid, the code expects rest frame wavelengths to ensure <code class="docutils literal notranslate"><span class="pre">*.lam</span></code> arrays agree across Synthesizer objects. Any redshifting of <code class="docutils literal notranslate"><span class="pre">Filter</span></code> transmission curves is then handled automatically with minimal overhead.</p>
<p>One exception to this rule is when calculating photometry for a large number of objects all at a specific redshift. In that case it is more efficient to use an observer frame wavelength grid on a <code class="docutils literal notranslate"><span class="pre">Filter</span></code>/<code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> and simply be aware that <code class="docutils literal notranslate"><span class="pre">Filter.lam</span></code> differs from <code class="docutils literal notranslate"><span class="pre">Grid.lam</span></code> and <code class="docutils literal notranslate"><span class="pre">SED.lam</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lams</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">55000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Creating-different-types-of-Filter">
<h2>Creating different types of Filter<a class="headerlink" href="#Creating-different-types-of-Filter" title="Permalink to this heading">#</a></h2>
<p>To define a generic <code class="docutils literal notranslate"><span class="pre">Filter</span></code> we need to define some arbitray transmission curve that maps onto our wavelength array.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">lams</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="n">trans</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">lams</span><span class="o">.</span><span class="n">size</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span> <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">lams</span><span class="o">.</span><span class="n">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">filt</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="s2">&quot;generic/filter.1&quot;</span><span class="p">,</span> <span class="n">transmission</span><span class="o">=</span><span class="n">trans</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>To define a Top Hat <code class="docutils literal notranslate"><span class="pre">Filter</span></code> we need can define either the minimum and maximum wavelength of the transmission…</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filt1</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="s2">&quot;top_hat/filter.1&quot;</span><span class="p">,</span> <span class="n">lam_min</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">lam_max</span><span class="o">=</span><span class="mi">5500</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>or the effective wavelength of the transmission and its FWHM.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filt2</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="s2">&quot;top_hat/filter.2&quot;</span><span class="p">,</span> <span class="n">lam_eff</span><span class="o">=</span><span class="mi">7000</span><span class="p">,</span> <span class="n">lam_fwhm</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>To create a <code class="docutils literal notranslate"><span class="pre">Filter</span></code> from the SVO database we simply pass the corresponding SVO filter identifier when intialising the <code class="docutils literal notranslate"><span class="pre">Filter</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filt3</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="s2">&quot;JWST/NIRCam.F444W&quot;</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Creating-a-FilterCollection">
<h2>Creating a FilterCollection<a class="headerlink" href="#Creating-a-FilterCollection" title="Permalink to this heading">#</a></h2>
<p>We can intitialise a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> for each different type of <code class="docutils literal notranslate"><span class="pre">Filter</span></code> in a very similar way to what is shown above. However, now the inputs are ensembles of filter properties. You may have noticed in the above examples that each <code class="docutils literal notranslate"><span class="pre">Filter</span></code> was intialised with a string identifier regardless of whether it was an SVO filter or not. These are the <code class="docutils literal notranslate"><span class="pre">Filter</span></code>’s “filter code”. These are used to identify each filter and act as a <code class="docutils literal notranslate"><span class="pre">Filter</span></code>’s key in dictionaries when required.</p>
<p>For a set of generic filters we must provide a dictionary of transmission curves where the key is the <code class="docutils literal notranslate"><span class="pre">Filter</span></code>’s filter code.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">generics</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;generic_filter1&quot;</span><span class="p">:</span> <span class="n">trans</span><span class="p">,</span> <span class="s2">&quot;generic_filter2&quot;</span><span class="p">:</span> <span class="n">trans</span><span class="p">}</span>
<span class="n">generic_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">generic_dict</span><span class="o">=</span><span class="n">generics</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>For a set of top hat filters we must pass a dictionary containing the properties of each <code class="docutils literal notranslate"><span class="pre">Filter</span></code> where the keys are the <code class="docutils literal notranslate"><span class="pre">Filter</span></code>’s filter code.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tophats</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;top_hat1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lam_eff&quot;</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span> <span class="s2">&quot;lam_fwhm&quot;</span><span class="p">:</span> <span class="mi">8000</span><span class="p">},</span>
    <span class="s2">&quot;top_hat12&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lam_min&quot;</span><span class="p">:</span> <span class="mi">15000</span><span class="p">,</span> <span class="s2">&quot;lam_max&quot;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">top_hat_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">tophat_dict</span><span class="o">=</span><span class="n">tophats</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>For a set of SVO filters we must pass a list of filter codes to be extracted from the database.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filter_codes</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;JWST/NIRCam.</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;F070W&quot;</span><span class="p">,</span> <span class="s2">&quot;F444W&quot;</span><span class="p">]]</span>
<span class="n">svo_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">filter_codes</span><span class="o">=</span><span class="n">filter_codes</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>You can also pass a list of existing <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filt_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">filt1</span><span class="p">,</span> <span class="n">filt2</span><span class="p">,</span> <span class="n">filt3</span><span class="p">]</span>
<span class="n">filt_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="n">filt_lst</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>However, you are not tied to having a single type of <code class="docutils literal notranslate"><span class="pre">Filter</span></code> in a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>, they can be mixed and matched at will by passing in each ensemble of properties.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fs</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;JWST/NIRCam.</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;F090W&quot;</span><span class="p">,</span> <span class="s2">&quot;F250M&quot;</span><span class="p">]]</span>
<span class="n">tophats</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;U&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lam_eff&quot;</span><span class="p">:</span> <span class="mi">3650</span><span class="p">,</span> <span class="s2">&quot;lam_fwhm&quot;</span><span class="p">:</span> <span class="mi">660</span><span class="p">},</span>
    <span class="s2">&quot;V&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lam_eff&quot;</span><span class="p">:</span> <span class="mi">5510</span><span class="p">,</span> <span class="s2">&quot;lam_fwhm&quot;</span><span class="p">:</span> <span class="mi">880</span><span class="p">},</span>
    <span class="s2">&quot;J&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lam_eff&quot;</span><span class="p">:</span> <span class="mi">12200</span><span class="p">,</span> <span class="s2">&quot;lam_fwhm&quot;</span><span class="p">:</span> <span class="mi">2130</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">generics</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;generic_filter3&quot;</span><span class="p">:</span> <span class="n">trans</span><span class="p">}</span>
<span class="n">filt_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">filt1</span><span class="p">,</span> <span class="n">filt2</span><span class="p">]</span>
<span class="n">combined_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span>
    <span class="n">filter_codes</span><span class="o">=</span><span class="n">fs</span><span class="p">,</span> <span class="n">tophat_dict</span><span class="o">=</span><span class="n">tophats</span><span class="p">,</span> <span class="n">generic_dict</span><span class="o">=</span><span class="n">generics</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="n">filt_lst</span><span class="p">,</span> <span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>One important thing to note when creating a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> is that all <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s in a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> will always be interpolated onto a common wavelength array. If a wavelength array has been passed to <code class="docutils literal notranslate"><span class="pre">new_lam</span></code> then all transmission curves will be interpolated on to it, otherwise, a common wavelength array is found including the wavelength arrays of all filters with any gaps filled with values at the minimum mean resolution of all filters. Any overlaping areas will adopt the
wavelength array of the higher resolution filter.</p>
</section>
<section id="Working-with-a-FilterCollection">
<h2>Working with a FilterCollection<a class="headerlink" href="#Working-with-a-FilterCollection" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>s behave a bit like Python <code class="docutils literal notranslate"><span class="pre">list</span></code>s and a bit like Python <code class="docutils literal notranslate"><span class="pre">dict</span></code>s. As such you can treat them as you would either of these data structures. Additionally, some helpful Python operators have been overloaded to make working with <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>s easier.</p>
<p>You can get their length:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have </span><span class="si">%d</span><span class="s2"> filters&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">combined_filters</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
We have 8 filters
</pre></div></div>
</div>
<p>Loop over them:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;My Filters:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">combined_filters</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">filter_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
My Filters:
JWST/NIRCam.F090W
JWST/NIRCam.F250M
U
V
J
generic_filter3
top_hat/filter.1
top_hat/filter.2
</pre></div></div>
</div>
<p>Compare FilterCollections:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">combined_filters</span> <span class="o">==</span> <span class="n">combined_filters</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This is the same filter collection!&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">combined_filters</span> <span class="o">!=</span> <span class="n">generic_filters</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;These are not the same filter collection!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
This is the same filter collection!
These are not the same filter collection!
</pre></div></div>
</div>
<p>Extract a specific filter by key:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filt</span> <span class="o">=</span> <span class="n">combined_filters</span><span class="p">[</span><span class="s2">&quot;JWST/NIRCam.F090W&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
JWST/NIRCam.F090W
</pre></div></div>
</div>
<p>And add <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s and <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>s:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_filters</span> <span class="o">=</span> <span class="n">combined_filters</span> <span class="o">+</span> <span class="n">top_hat_filters</span>
<span class="n">new_filters</span> <span class="o">+=</span> <span class="n">generic_filters</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;My combined Filters:&quot;</span><span class="p">,</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">filter_codes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
My combined Filters: [&#39;JWST/NIRCam.F090W&#39;, &#39;JWST/NIRCam.F250M&#39;, &#39;U&#39;, &#39;V&#39;, &#39;J&#39;, &#39;generic_filter3&#39;, &#39;top_hat/filter.1&#39;, &#39;top_hat/filter.2&#39;, &#39;top_hat1&#39;, &#39;top_hat12&#39;, &#39;generic_filter1&#39;, &#39;generic_filter2&#39;]
</pre></div></div>
</div>
<p>Note that adding <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s or <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>s to a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> will result in interpolation of the transmission curves onto the <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>’s wavelength array. In the event the wavelength arrays differ, the wavelengths of the <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> being added to are maintained and a warning is printed if this will truncate the transmission curve of the <code class="docutils literal notranslate"><span class="pre">Filter</span></code> being added. If the truncation results in 0 transmission then an error is raised.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filter_codes</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;JWST/NIRCam.</span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;F070W&quot;</span><span class="p">,</span> <span class="s2">&quot;F444W&quot;</span><span class="p">]]</span>
<span class="n">new_filters2</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">filter_codes</span><span class="o">=</span><span class="n">filter_codes</span><span class="p">)</span>
<span class="n">out_of_range_filt</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="s2">&quot;JWST/MIRI.F2550W&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">new_filters2</span> <span class="o">=</span> <span class="n">new_filters2</span> <span class="o">+</span> <span class="n">out_of_range_filt</span>
<span class="k">except</span> <span class="n">InconsistentWavelengths</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;InconsistentWavelengths:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Calculated wavelength array:
min = 6.03e+03 Angstrom
max = 5.10e+04 Angstrom
FilterCollection.lam.size = 26851
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Warning: JWST/MIRI.F2550W will be truncated where transmission is non-zero (old_lam_bounds = (2.14e+05 Å, 3.00e+05 Å), new_lam_bounds = (6.03e+03 Å, 5.10e+04 Å))
InconsistentWavelengths: Interpolated transmission curve has no non-zero values. Consider removing this filter or extending the wavelength range.
</pre></div></div>
</div>
<section id="Helper-methods">
<h3>Helper methods<a class="headerlink" href="#Helper-methods" title="Permalink to this heading">#</a></h3>
<p>We provide a number of helper methods and functions to make certain functionality quick and easy.</p>
<p>You can easily plot the transmission curves.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">plot_transmission_curves</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/filters_36_0.png" src="_images/filters_36_0.png" />
</div>
</div>
<p>You can generate a UVJ top hat <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> without defining the properties, we have hardcoded them in an importable function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">synthesizer.filters</span> <span class="kn">import</span> <span class="n">UVJ</span>

<span class="n">lams</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2500</span><span class="p">,</span> <span class="mi">15000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">UVJ</span><span class="p">(</span><span class="n">new_lam</span><span class="o">=</span><span class="n">lams</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">plot_transmission_curves</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/filters_38_0.png" src="_images/filters_38_0.png" />
</div>
</div>
<p>Each individual <code class="docutils literal notranslate"><span class="pre">Filter</span></code> has a number of methods to calculate useful filter properties.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The pivot wavelength of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">pivwv</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The transmission at the pivot wavelength of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">pivT</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The mean wavelength of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">meanwv</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The bandwidth of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">bandw</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The FWHM of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">fwhm</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The transmission peak of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">Tpeak</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The rectangular width of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">rectw</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The maximum wavelength with non-zero transmission of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The minimum wavelength with non-zero transmission of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="p">)</span>
<span class="n">min_max</span> <span class="o">=</span> <span class="n">filt</span><span class="o">.</span><span class="n">mnmx</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;The minimum and maximum wavelength (regardless of transmission) of </span><span class="si">{</span><span class="n">filt</span><span class="o">.</span><span class="n">filter_code</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2e</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">:.2e.&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The pivot wavelength of JWST/NIRCam.F090W is 9.02e+03 Å.
The transmission at the pivot wavelength of JWST/NIRCam.F090W is 2.92e-01.
The mean wavelength of JWST/NIRCam.F090W is 8.98e+03 Å.
The bandwidth of JWST/NIRCam.F090W is 6.11e+02 Å.
The FWHM of JWST/NIRCam.F090W is 1.44e+03 Å.
The transmission peak of JWST/NIRCam.F090W is 3.19e-01.
The rectangular width of JWST/NIRCam.F090W is 1.94e+03.
The maximum wavelength with non-zero transmission of JWST/NIRCam.F090W is 1.02e+04 Å.
The minimum wavelength with non-zero transmission of JWST/NIRCam.F090W is 7.90e+03 Å.
The minimum and maximum wavelength (regardless of transmission) of JWST/NIRCam.F090W is 7.84e+03 Å and 10355.5 Å:.2e.
</pre></div></div>
</div>
</section>
</section>
<section id="Saving-and-loading-FilterCollections">
<h2>Saving and loading FilterCollections<a class="headerlink" href="#Saving-and-loading-FilterCollections" title="Permalink to this heading">#</a></h2>
<p>You may encounter situations where you want to save a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>. This can be particularly useful to avoid periods where the SVO database goes down or when using a single <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> across a number of MPI ranks where the multiple SVO database calls can cause failures.</p>
<p>To do this you can simply call the <code class="docutils literal notranslate"><span class="pre">write_filters</span></code> method, passing the path where you want to save the file. This will create a HDF5 file containing the attributes and datasets defining the <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Write out the filter collection to a file in the synthesizer root directory</span>
<span class="n">new_filters</span><span class="o">.</span><span class="n">write_filters</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;../../test_filter_collection.hdf5&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Note: this HDF5 file contains the version of Synthesizer used to create it as an attribute (<code class="docutils literal notranslate"><span class="pre">hdf.attrs[&quot;synthesizer_version&quot;]</span></code>). A warning will be printed if this differs from the version you are using, just in case future changes break the functionlaity of past <code class="docutils literal notranslate"><span class="pre">FilterCollections</span></code>.</p>
<p>To load a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> at a later data you can simply pass the path of the file into the <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> at instantiation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a FilterCollection from a file</span>
<span class="n">new_new_filters</span> <span class="o">=</span> <span class="n">FilterCollection</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;../../test_filter_collection.hdf5&quot;</span><span class="p">)</span>

<span class="c1"># Compare filter objects to show they are the same</span>
<span class="n">new_filters</span> <span class="o">==</span> <span class="n">new_new_filters</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
<section id="Finding-a-Filter">
<h2>Finding a Filter<a class="headerlink" href="#Finding-a-Filter" title="Permalink to this heading">#</a></h2>
<p>If you want to know the <code class="docutils literal notranslate"><span class="pre">Filter</span></code> in a <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> which will probe a particular wavelength we provide a method to calculate this. This can be done for either the filter which probes the desired wavelength in the rest frame, or by providing a redshift the filter that probes that rest frame wavelength in the observer frame can be found. The method will print the resulting filter code and return the <code class="docutils literal notranslate"><span class="pre">Filter</span></code> itself.</p>
<p>This function takes a method argument. There are 3 methods implemented for doing this: - “pivot”: Find the filter with the closest pivot wavelength to the desired wavelength (the default). - “mean”: Find the filter with the closest mean wavelength to the desired wavelength. - “transmission”: Find the filter with the maximum transmission at the desired wavelength.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the wavelength we want to know the filter for (in the rest frame, with Angstrom units)</span>
<span class="n">search_lam</span> <span class="o">=</span> <span class="mi">25000</span>

<span class="c1"># First lets search in the rest frame with the default pivot method</span>
<span class="n">rest_frame_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span><span class="n">search_lam</span><span class="p">)</span>

<span class="c1"># What if we used the other methods?</span>
<span class="n">rest_frame_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span><span class="n">search_lam</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="n">rest_frame_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span><span class="n">search_lam</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;transmission&quot;</span><span class="p">)</span>

<span class="c1"># Now lets be more realistic, we have an observation redshift 7 which filter can we use?</span>
<span class="n">search_lam</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">obs_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span><span class="n">search_lam</span><span class="p">,</span> <span class="n">redshift</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;pivot&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Filter containing rest_frame_lam=2.50e+04 Angstrom: JWST/NIRCam.F250M
Filter containing rest_frame_lam=2.50e+04 Angstrom: JWST/NIRCam.F250M
Filter containing rest_frame_lam=2.50e+04 Angstrom: generic_filter3
Filter containing rest_frame_lam=1.00e+03 Angstrom (with observed wavelength=8.00e+03 Angstrom): top_hat/filter.2
</pre></div></div>
</div>
<p>Note that the method will produce an error if the transmission of all <code class="docutils literal notranslate"><span class="pre">Filter</span></code>s in the <code class="docutils literal notranslate"><span class="pre">FilterCollection</span></code> is 0 at the desired wavelength. In certain circumstances <code class="docutils literal notranslate"><span class="pre">&quot;pivot&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code> can fail when the wavelength does fall inside a wide band filter.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">search_lam</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">obs_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span>
        <span class="n">search_lam</span><span class="p">,</span> <span class="n">redshift</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;pivot&quot;</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="n">WavelengthOutOfRange</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The wavelength (rest_frame_lam=2.00e+03 Angstrom, observed_lam=1.60e+04 Angstrom) has 0 transmission in the closest Filter (J). Try method=&#39;transmission&#39;.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">obs_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span>
    <span class="n">search_lam</span><span class="p">,</span> <span class="n">redshift</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;transmission&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Filter containing rest_frame_lam=2.00e+03 Angstrom (with observed wavelength=1.60e+04 Angstrom): generic_filter3
</pre></div></div>
</div>
<p>But in most cases if a filter isn’t found the <code class="docutils literal notranslate"><span class="pre">&quot;transmission&quot;</span></code> method will also fail.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">obs_filter</span> <span class="o">=</span> <span class="n">new_filters</span><span class="o">.</span><span class="n">find_filter</span><span class="p">(</span>
        <span class="n">search_lam</span><span class="p">,</span> <span class="n">redshift</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;transmission&quot;</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="n">WavelengthOutOfRange</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The wavelength (rest_frame_lam=2.00e+03 Angstrom, observed_lam=3.20e+04 Angstrom) does not fall in any Filters.
</pre></div></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="blackholes/blackholes.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Black holes</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="lines.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Emission lines</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Chris Lovell, Stephen Wilkins, Aswin Vijayan, Will Roper
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Working with Filters</a><ul>
<li><a class="reference internal" href="#Defining-a-wavelength-array">Defining a wavelength array</a></li>
<li><a class="reference internal" href="#Creating-different-types-of-Filter">Creating different types of Filter</a></li>
<li><a class="reference internal" href="#Creating-a-FilterCollection">Creating a FilterCollection</a></li>
<li><a class="reference internal" href="#Working-with-a-FilterCollection">Working with a FilterCollection</a><ul>
<li><a class="reference internal" href="#Helper-methods">Helper methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Saving-and-loading-FilterCollections">Saving and loading FilterCollections</a></li>
<li><a class="reference internal" href="#Finding-a-Filter">Finding a Filter</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e031e9a9"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>