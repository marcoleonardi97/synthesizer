<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Imaging examples" href="../imaging/index.html" /><link rel="prev" title="Get lines example" href="plot_lines.html" />

    <!-- Generated with Sphinx 7.1.1 and Furo 2023.09.10 -->
        <title>Plot spectra by age - synthesizer 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">synthesizer 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/synth.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../grids/grids.html">Grids</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Grids</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../grids/photoionisation.html">Photoionisation Modelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grids/explore_grid.html">Exploring grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grids/plot_spectra.html">Plot Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grids/plot_spectra_age.html">Plot Age Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grids/plot_log10Q.html">Plot Specific Ionising Luminosity Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grids/grid_lines.html">Grid lines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../spectra.html">Spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filters.html">Working with Filters</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../blackholes/blackholes.html">Black holes</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Black holes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../parametric/parametric.html">Parametric models</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Parametric models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/make_sfzh.html">Making a Parametric Star Formation Metallicity History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/generate_sed.html">Generating Rest Frame SEDs from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/generate_observed_sed.html">Generating an Observed SED form a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/generate_lines.html">Generating Lines from a Parametric Galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/generate_composite_galaxy.html">Generate composite galaxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parametric/generate_dust_sed.html">Generating Rest Frame SEDs from a Parametric Galaxy including dust emission</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cosmo/cosmo.html">Cosmological models</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Cosmological models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cosmo/cosmo_example.html">Camels example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cosmo/survey_example.html">CAMELS survey example</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../imaging/imaging.html">Imaging</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../imaging/particle_imaging.html">Creating Images From Galaxy Particle distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../imaging/parametric_imaging.html">Creating Images From Parametric Galaxies</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../cosmo/index.html">Cosmological simulation examples</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Cosmological simulation examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cosmo/plot_camels.html">CAMELS example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../general/index.html">General examples</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of General examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_igm.html">IGM transmission example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_dustcurves.html">Dust curves example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/sed.html">SED object example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_abundances.html">Abundances example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_filters.html">Filters example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_spectra_age.html">Plot Spectra by age</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_line_ratios.html">Plot line ratios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_quiescent_colours.html">Plot quiescent UVJ diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/plot_photometry.html">Photometry example</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Grid examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Grid examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="explore_grid.html">Explore a grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_log10Q.html">Plot ionising luminosity</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_spectra.html">Plot spectra example</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_lines.html">Get lines example</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Plot spectra by age</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../imaging/index.html">Imaging examples</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Imaging examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../imaging/image_addition.html">Image addition example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../parametric/index.html">Parametric galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Parametric galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_make_sfzh.html">Generate parametric SFZH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_create_image.html">Create image example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/generate_lines.html">Generate lines from parametric galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_observed_sed.html">Generate parametric observed SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_sed.html">Generate parametric galaxy SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_composite_galaxy.html">Generate composite image example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric/plot_equivalent_width.html">Plot equivalent width for UV indices</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../particle/index.html">Particle galaxy examples</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Particle galaxy examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_generate_coordinates.html">Generate mock coordinates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_create_sampled_sed.html">Create sampled SED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_compare_parametric_particle.html">Compare parametric and particle SEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_create_survey_photometry.html">Create survey photometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_get_los_attenutation.html">Plot line of sight diagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particle/plot_create_survey_imgs.html">Create survey images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../API.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.html">synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of synthesizer</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.abundances.html">synthesizer.abundances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.art.html">synthesizer.art</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.base_galaxy.html">synthesizer.base_galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.cloudy.html">synthesizer.cloudy</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.dust.html">synthesizer.dust</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of synthesizer.dust</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.dust.attenuation.html">synthesizer.dust.attenuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.dust.emission.html">synthesizer.dust.emission</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.html">synthesizer.exceptions</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of synthesizer.exceptions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.InconsistentAddition.html">synthesizer.exceptions.InconsistentAddition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.InconsistentArguments.html">synthesizer.exceptions.InconsistentArguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.InconsistentCoordinates.html">synthesizer.exceptions.InconsistentCoordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.InconsistentParameter.html">synthesizer.exceptions.InconsistentParameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.InconsistentWavelengths.html">synthesizer.exceptions.InconsistentWavelengths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.MissingImage.html">synthesizer.exceptions.MissingImage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.MissingSpectraType.html">synthesizer.exceptions.MissingSpectraType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.SVOFilterNotFound.html">synthesizer.exceptions.SVOFilterNotFound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.UnimplementedFunctionality.html">synthesizer.exceptions.UnimplementedFunctionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.UnknownImageType.html">synthesizer.exceptions.UnknownImageType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.exceptions.WavelengthOutOfRange.html">synthesizer.exceptions.WavelengthOutOfRange</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.extensions.html">synthesizer.extensions</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of synthesizer.extensions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.extensions.csed.html">synthesizer.extensions.csed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.extensions.los.html">synthesizer.extensions.los</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.extensions.weights.html">synthesizer.extensions.weights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.filters.html">synthesizer.filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.grid.html">synthesizer.grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.igm.html">synthesizer.igm</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.html">synthesizer.imaging</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of synthesizer.imaging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.extensions.html">synthesizer.imaging.extensions</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of synthesizer.imaging.extensions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.extensions.sph_kernel_calc.html">synthesizer.imaging.extensions.sph_kernel_calc</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.images.html">synthesizer.imaging.images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.observation.html">synthesizer.imaging.observation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.scene.html">synthesizer.imaging.scene</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.imaging.spectral_cubes.html">synthesizer.imaging.spectral_cubes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.kernel_functions.html">synthesizer.kernel_functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.line.html">synthesizer.line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.load_data.html">synthesizer.load_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.los.html">synthesizer.los</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.observations.html">synthesizer.observations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.observatories.html">synthesizer.observatories</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.parametric.html">synthesizer.parametric</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of synthesizer.parametric</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.parametric.galaxy.html">synthesizer.parametric.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.parametric.morphology.html">synthesizer.parametric.morphology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.parametric.sfzh.html">synthesizer.parametric.sfzh</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../_autosummary/synthesizer.particle.html">synthesizer.particle</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of synthesizer.particle</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.blackholes.html">synthesizer.particle.blackholes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.galaxy.html">synthesizer.particle.galaxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.gas.html">synthesizer.particle.gas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.image.html">synthesizer.particle.image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.particles.html">synthesizer.particle.particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/synthesizer.particle.stars.html">synthesizer.particle.stars</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.plots.html">synthesizer.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.plt.html">synthesizer.plt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.sed.html">synthesizer.sed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.stats.html">synthesizer.stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.survey.html">synthesizer.survey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.units.html">synthesizer.units</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/synthesizer.utils.html">synthesizer.utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-grids-plot-spectra-by-age-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="plot-spectra-by-age">
<span id="sphx-glr-auto-examples-grids-plot-spectra-by-age-py"></span><h1>Plot spectra by age<a class="headerlink" href="#plot-spectra-by-age" title="Permalink to this heading">#</a></h1>
<p>This example plots all the spectra for a single metallicity.</p>
<img src="../../_images/sphx_glr_plot_spectra_by_age_001.png" srcset="../../_images/sphx_glr_plot_spectra_by_age_001.png" alt="plot spectra by age" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>test_grid
/home/runner/work/synthesizer/synthesizer/examples/grids/plot_spectra_by_age.py:72: RuntimeWarning: divide by zero encountered in log10
  np.log10(grid.lam), np.log10(Lnu), c=cmap(norm(log10age)), lw=1, alpha=0.8
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.cm</span> <span class="k">as</span> <span class="nn">cm</span>
<span class="kn">import</span> <span class="nn">cmasher</span> <span class="k">as</span> <span class="nn">cmr</span>


<span class="kn">from</span> <span class="nn">synthesizer.utils</span> <span class="kn">import</span> <span class="n">fnu_to_flam</span>
<span class="kn">from</span> <span class="nn">synthesizer.grid</span> <span class="kn">import</span> <span class="n">Grid</span>


<span class="c1"># colourmap to use</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">cmr</span><span class="o">.</span><span class="n">bubblegum</span>

<span class="c1"># mapping of age to colour</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">11.0</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">plot_spectra_age</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">target_Z</span><span class="p">,</span> <span class="n">spec_name</span><span class="o">=</span><span class="s2">&quot;incident&quot;</span><span class="p">):</span>
    <span class="c1"># get closest metallicity grid point</span>
    <span class="n">grid_point</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">get_grid_point</span><span class="p">((</span><span class="n">grid</span><span class="o">.</span><span class="n">log10age</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">target_Z</span><span class="p">))</span>
    <span class="c1"># metallicity grid point</span>
    <span class="n">iZ</span> <span class="o">=</span> <span class="n">grid_point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># get actual metallicity for that grid point and print it</span>
    <span class="n">Z</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">metallicity</span><span class="p">[</span><span class="n">iZ</span><span class="p">]</span>
    <span class="c1"># print(f&#39;target metallicity: {target_Z:.2f}&#39;)</span>
    <span class="c1"># print(f&#39;metallicity: {Z:.2f}&#39;)</span>

    <span class="c1"># initialise plot</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">))</span>

    <span class="n">left</span> <span class="o">=</span> <span class="mf">0.15</span>
    <span class="n">height</span> <span class="o">=</span> <span class="mf">0.8</span>
    <span class="n">bottom</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mf">0.8</span>

    <span class="c1"># define main ax</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

    <span class="c1"># define colourbar ax</span>
    <span class="n">cax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">+</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">))</span>

    <span class="c1"># add colourbar</span>
    <span class="n">cbar</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span>
        <span class="n">cm</span><span class="o">.</span><span class="n">ScalarMappable</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">),</span> <span class="n">cax</span><span class="o">=</span><span class="n">cax</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span>
    <span class="p">)</span>  <span class="c1"># add the colourbar</span>

    <span class="c1"># colourbar formatting and labelling</span>
    <span class="n">cax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">tick_top</span><span class="p">()</span>
    <span class="n">cax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>
    <span class="n">cax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\rm \log_</span><span class="si">{10}</span><span class="s2">(age/yr)$&quot;</span><span class="p">)</span>

    <span class="c1"># loop over log10ages</span>
    <span class="k">for</span> <span class="n">ia</span><span class="p">,</span> <span class="n">log10age</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">log10age</span><span class="p">):</span>
        <span class="c1"># get spectra</span>
        <span class="n">Lnu</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">spectra</span><span class="p">[</span><span class="n">spec_name</span><span class="p">][</span><span class="n">ia</span><span class="p">,</span> <span class="n">iZ</span><span class="p">,</span> <span class="p">:]</span>
        <span class="c1"># Lnu = fnu_to_flam(grid.lam, Lnu)</span>

        <span class="c1"># plot spectra</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">lam</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Lnu</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="n">cmap</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">log10age</span><span class="p">)),</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span>
        <span class="p">)</span>

    <span class="c1"># plot Lyman and Balmer limits for reference</span>
    <span class="k">for</span> <span class="n">wv</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">912.0</span><span class="p">,</span> <span class="mf">3646.0</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">wv</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># add model name</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">,</span> <span class="n">grid</span><span class="o">.</span><span class="n">grid_name</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

    <span class="c1"># set wavelength range (log(Angstrom))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">])</span>

    <span class="c1"># set luminosity range</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mf">10.0</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>

    <span class="c1"># add labels</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\rm log_</span><span class="si">{10}</span><span class="s2">(\lambda/\AA)$&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\rm log_</span><span class="si">{10}</span><span class="s2">(L_{\nu}/erg\ s^{-1}\ Hz^{-1} M_{\odot}^{-1})$&quot;</span><span class="p">)</span>

    <span class="c1"># return figure and axes for further use</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Get the location of this script, __file__ is the absolute path of this script, however we just want to directory</span>
    <span class="c1"># script_path = os.path.abspath(os.path.dirname(__file__))</span>

    <span class="c1"># Define the path to the test grid</span>
    <span class="c1"># test_grid_dir = script_path + &quot;/../../tests/test_grid/&quot;</span>
    <span class="n">test_grid_dir</span> <span class="o">=</span> <span class="s2">&quot;../../tests/test_grid/&quot;</span>

    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Create a plot of all spectra for a given metallicity in a grid&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># The name of the grid. Defaults to the test grid.</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-grid_name&quot;</span><span class="p">,</span> <span class="s2">&quot;--grid_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;test_grid&quot;</span>
    <span class="p">)</span>

    <span class="c1"># The path to the grid directory. Defaults to the test grid directory.</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-grid_dir&quot;</span><span class="p">,</span> <span class="s2">&quot;--grid_dir&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">test_grid_dir</span>
    <span class="p">)</span>

    <span class="c1"># The target metallicity. The code function will find the closest metallicity and report it back. The rationale behind this is that this code can easily be adapted to explore other grids.</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-Z&quot;</span><span class="p">,</span> <span class="s2">&quot;--Z&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

    <span class="c1"># Flag whether to show the figure. Figure is saved in current directory using &quot;spectra_age_{grid_name}&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-show&quot;</span><span class="p">,</span> <span class="s2">&quot;--show&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">BooleanOptionalAction</span><span class="p">)</span>

    <span class="c1"># Flag whether to save the figure.</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-save&quot;</span><span class="p">,</span> <span class="s2">&quot;--save&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">BooleanOptionalAction</span><span class="p">)</span>

    <span class="c1"># Flag whether to analyse all grids in the provided directory.</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-all&quot;</span><span class="p">,</span> <span class="s2">&quot;--all&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">BooleanOptionalAction</span><span class="p">)</span>

    <span class="c1"># Get dictionary of arguments</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="c1"># If all grids are requested get a list of the grids in the grid_dir directory.</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">all</span><span class="p">:</span>
        <span class="n">grid_filenames</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="nb">map</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">,</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">grid_dir</span> <span class="o">+</span> <span class="s2">&quot;*.hdf5&quot;</span><span class="p">))</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">grid_filenames</span><span class="p">)</span>

        <span class="c1"># Remove extension</span>
        <span class="n">grid_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="n">grid_filenames</span><span class="p">))</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">grid_names</span><span class="p">)</span>

    <span class="c1"># Else use the provided grid name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">grid_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">grid_name</span><span class="p">]</span>

    <span class="c1"># loop over all grid_names</span>
    <span class="k">for</span> <span class="n">grid_name</span> <span class="ow">in</span> <span class="n">grid_names</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">grid_name</span><span class="p">)</span>

        <span class="c1"># Initialise grid</span>
        <span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">grid_name</span><span class="p">,</span> <span class="n">grid_dir</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">grid_dir</span><span class="p">)</span>

        <span class="c1"># Create figure</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_spectra_age</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">Z</span><span class="p">)</span>

        <span class="c1"># show figure if requested</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">show</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="c1"># save figure if requested</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">save</span><span class="p">:</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;spectra_age_</span><span class="si">{</span><span class="n">grid_name</span><span class="si">}</span><span class="s2">.pdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.315 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-grids-plot-spectra-by-age-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/3e2f2391ad92cdd8f40f1a18ed718f5d/plot_spectra_by_age.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_spectra_by_age.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/3c6436b73e27182f877a417df9b11faf/plot_spectra_by_age.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_spectra_by_age.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../imaging/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Imaging examples</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="plot_lines.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Get lines example</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Chris Lovell, Stephen Wilkins, Aswin Vijayan, Will Roper
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=e031e9a9"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>