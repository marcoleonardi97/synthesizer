
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/parametric/plot_compare_sfhs.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_parametric_plot_compare_sfhs.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_parametric_plot_compare_sfhs.py:


Compare different parametric star formation history models
==========================================================

Example comparing different parametric star formation histories.

.. GENERATED FROM PYTHON SOURCE LINES 7-64



.. image-sg:: /auto_examples/parametric/images/sphx_glr_plot_compare_sfhs_001.png
   :alt: plot compare sfhs
   :srcset: /auto_examples/parametric/images/sphx_glr_plot_compare_sfhs_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /home/runner/work/synthesizer/synthesizer/src/synthesizer/parametric/sf_hist.py:652: RuntimeWarning: divide by zero encountered in scalar power
      term1 = (age / self.peak_age) ** self.alpha






|

.. code-block:: Python


    import matplotlib.pyplot as plt
    import numpy as np
    from unyt import Myr

    from synthesizer.parametric.sf_hist import (
        Constant,
        DelayedExponential,
        DoublePowerLaw,
        Exponential,
        Gaussian,
        LogNormal,
    )

    models = [
        [Constant, {"max_age": 500 * Myr}],
        [Constant, {"max_age": 5000 * Myr, "min_age": 4000 * Myr}],
        [Gaussian, {"peak_age": 2000 * Myr, "sigma": 500 * Myr}],
        [Exponential, {"tau": -1000 * Myr, "max_age": 10000 * Myr}],
        [Exponential, {"tau": 10000 * Myr, "max_age": 10000 * Myr}],
        [DelayedExponential, {"tau": 1000 * Myr, "max_age": 8000 * Myr}],
        [LogNormal, {"tau": 0.5, "peak_age": 4000 * Myr, "max_age": 8000 * Myr}],
        [
            DoublePowerLaw,
            {
                "alpha": -2,
                "beta": 2.0,
                "peak_age": 3000 * Myr,
                "max_age": 8000 * Myr,
            },
        ],
    ]


    for model, p in models:
        # initialise SFH model
        sfh = model(**p)

        # get star formation history
        age, sfr = sfh.calculate_sfh()

        # normalise to the peak
        sfr = sfr / np.max(sfr)

        # express the parameters as a string for use in a label
        parameter_str = " ".join([f"{k}={v}" for k, v in p.items()])

        # make label
        label = rf"{model.__name__} " + parameter_str

        plt.plot(age, sfr, label=label)

    plt.ylim([0, 2])
    plt.xlabel("age/Myr")
    plt.ylabel("SFR/(Msun/yr)")
    plt.legend(loc="upper left", fontsize=6)
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.448 seconds)


.. _sphx_glr_download_auto_examples_parametric_plot_compare_sfhs.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_compare_sfhs.ipynb <plot_compare_sfhs.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_compare_sfhs.py <plot_compare_sfhs.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_compare_sfhs.zip <plot_compare_sfhs.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
